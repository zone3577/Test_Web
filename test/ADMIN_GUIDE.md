# р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ъ Admin ЁЯФР

## р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕гр╕░р╕Ър╕Ъ Admin

### 1. р╕кр╕гр╣Йр╕▓р╕З Admin Table р╣Гр╕Щ Supabase

р╣Др╕Ыр╕Чр╕╡р╣И Supabase Dashboard тЖТ SQL Editor р╣Бр╕ер╕░р╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕З SQL р╣Гр╕Щ `database/admin_setup.sql`:

```sql
-- р╕Др╕▒р╕Фр╕ер╕нр╕Бр╣Бр╕ер╕░р╕гр╕▒р╕Щр╣Вр╕Др╣Йр╕Фр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щ database/admin_setup.sql
```

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕гр╕▒р╕Щ SQL р╣Бр╕ер╣Йр╕з р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕кр╕гр╣Йр╕▓р╕З:
- тЬЕ Table `admins` р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е admin
- тЬЕ Function `admin_login()` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
- тЬЕ Function `change_admin_password()` р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
- тЬЕ Admin account р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ (username: admin, password: admin123)

### 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Tables р╣Бр╕ер╕░ Data

р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕Щ Supabase Dashboard:
- `products` table - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓
- `profiles` table - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е users
- `admins` table - р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е admin

## р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ъ Admin

### р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ Admin

1. р╣Др╕Ыр╕Чр╕╡р╣И `/admin/login`
2. р╣Гр╕кр╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ:
   - **Username**: `admin`
   - **Password**: `admin123`
3. р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б "р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ"

### р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕Щ Admin Dashboard

#### 1. **р╕ар╕▓р╕Юр╕гр╕зр╕б** ЁЯУК
- р╕кр╕Цр╕┤р╕Хр╕┤р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╕кр╕Цр╕┤р╕Хр╕┤р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕ер╣Ир╕▓р╕кр╕╕р╕Ф
- р╕Бр╕гр╕▓р╕Яр╣Бр╕ер╕░р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Н

#### 2. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓** ЁЯУж
- р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╕Вр╣Йр╕нр╕бр╕╣р╕е: р╕Кр╕╖р╣Ир╕н, SKU, р╕гр╕▓р╕Др╕▓, р╕кр╕Цр╕▓р╕Щр╕░
- р╣Ар╕гр╕╡р╕вр╕Зр╕ер╕│р╕Фр╕▒р╕Ър╣Бр╕ер╕░р╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

#### 3. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й** ЁЯСе
- р╕Фр╕╣р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╕Вр╣Йр╕нр╕бр╕╣р╕е: email, р╕Кр╕╖р╣Ир╕н, р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕кр╕бр╕▒р╕Др╕г
- р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

## р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З

```
test/
тФЬтФАтФА database/
тФВ   тФФтФАтФА admin_setup.sql           # SQL р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕З admin system
тФЬтФАтФА app/admin/
тФВ   тФЬтФАтФА layout.tsx               # Layout р╕кр╕│р╕лр╕гр╕▒р╕Ъ admin routes
тФВ   тФЬтФАтФА login/
тФВ   тФВ   тФФтФАтФА page.tsx            # р╕лр╕Щр╣Йр╕▓ admin login
тФВ   тФФтФАтФА dashboard/
тФВ       тФФтФАтФА page.tsx            # р╕лр╕Щр╣Йр╕▓ admin dashboard
тФЬтФАтФА components/
тФВ   тФЬтФАтФА AdminDashboard.tsx       # Admin dashboard component
тФВ   тФФтФАтФА auth/
тФВ       тФФтФАтФА AdminLoginForm.tsx   # Admin login form
тФЬтФАтФА contexts/
тФВ   тФФтФАтФА AdminAuthContext.tsx     # Admin authentication context
тФФтФАтФА utils/
    тФФтФАтФА authUtils.ts            # Auth utility functions
```

## р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

### Admin Roles
- **admin**: р╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Фр╕▒р╕Ър╕Ыр╕Бр╕Хр╕┤
- **super_admin**: р╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Фр╕▒р╕Ър╕кр╕╣р╕З (р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Ар╕Хр╣Зр╕б)

### Session Management
- Session р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕р╣Гр╕Щ 24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З
- р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щ localStorage
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ session р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

### р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ

р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ admin р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕Кр╣Й function р╣Гр╕Щ database:

```sql
SELECT * FROM change_admin_password(
  'admin_id_here',
  'old_password',
  'new_password'
);
```

## р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

#### 1. р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╣Др╕Фр╣Й
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕гр╕▒р╕Щ SQL setup р╣Бр╕ер╣Йр╕з
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ username/password: `admin/admin123`
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ console р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣ error

#### 2. р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓/р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡ table `products` р╣Бр╕ер╕░ `profiles`
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ RLS policies р╣Гр╕Щ Supabase
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣ API calls

#### 3. Session р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕р╕Ър╣Ир╕нр╕в
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ localStorage
- р╕ер╕нр╕Зр╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╣Гр╕лр╕бр╣И
- Clear browser cache

### р╕Бр╕▓р╕г Debug

1. р╣Ар╕Ыр╕┤р╕Ф Browser Developer Tools
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console р╕кр╕│р╕лр╕гр╕▒р╕Ъ errors
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab р╕кр╕│р╕лр╕гр╕▒р╕Ъ API calls
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Application/Storage р╕кр╕│р╕лр╕гр╕▒р╕Ъ localStorage

## р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕б Admin р╣Гр╕лр╕бр╣И

### р╕Ьр╣Ир╕▓р╕Щ SQL (р╣Бр╕Щр╕░р╕Щр╕│)

```sql
INSERT INTO admins (username, email, password_hash, full_name, role) 
VALUES (
  'newadmin', 
  'newadmin@shop.com',
  crypt('newpassword', gen_salt('bf', 10)),
  'р╕Кр╕╖р╣Ир╕н Admin р╣Гр╕лр╕бр╣И',
  'admin'
);
```

### р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З
- р╣Гр╕Кр╣Й bcrypt р╕кр╕│р╕лр╕гр╕▒р╕Ъ hash password
- р╕Хр╕▒р╣Йр╕З role р╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ username/email р╣Др╕бр╣Ир╕Лр╣Йр╕│

## р╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Ар╕Бр╕гр╕Фр╕гр╕░р╕Ър╕Ъ

### р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣И
1. CRUD р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓
2. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г orders
3. р╕гр╕░р╕Ър╕Ъ notifications
4. Analytics р╣Бр╕ер╕░ reports
5. р╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е

### р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
1. Two-factor authentication
2. IP whitelist
3. Session timeout р╕Чр╕╡р╣Ир╕Ыр╕гр╕▒р╕Ър╣Др╕Фр╣Й
4. Audit logs
5. Role-based permissions

---

## р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Н

**Admin р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ**:
- Username: `admin`
- Password: `admin123`
- Role: `super_admin`

**URL р╕кр╕│р╕Др╕▒р╕Н**:
- Admin Login: `/admin/login`
- Admin Dashboard: `/admin/dashboard`

**р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ**: р╕лр╕▓р╕Бр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Юр╕▒р╕Тр╕Щр╕▓